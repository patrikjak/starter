import{c as r,a as p,g as v,s as f,b as g,d as y,e as w,F as b}from"./table.js";function L(e){const t=r("div",null,{class:["pj-photo-preview"]});return t.appendChild(e),t.innerHTML+=`<div class="delete-button">${p()}</div>`,t}function S(){document.querySelectorAll(".pj-photo-uploader").forEach(t=>{q(t),t.querySelectorAll(".previews .pj-photo-preview").forEach(n=>{const o=n.querySelector("img"),s=v(o,"file-name");m(n,t,s)})})}function q(e){const t=e.querySelector('input[type="file"]'),i=e.querySelector(".previews");t.addEventListener("change",n=>{const o=n.target.files;for(const s of o){if(!h(s)){alert(`Invalid file type: ${s.type}`);continue}const c=L(r("img",null,{src:URL.createObjectURL(s),alt:s.name}));f(c,i),m(c,e,s)}})}function m(e,t,i){const n=e.querySelector(".delete-button"),o=t.querySelector('input[type="file"]');n.addEventListener("click",()=>{e.closest(".pj-photo-preview").remove();const c=typeof i=="string"?i:i.name,u=r("input",null,{type:"hidden",name:`deleted_files_${o.name}[]`,value:c});t.appendChild(u)})}function h(e){return["image/apng","image/bmp","image/gif","image/jpeg","image/pjpeg","image/png","image/svg+xml","image/tiff","image/webp","image/x-icon"].includes(e.type)}const l=document.querySelector(".navigation .user .button"),a=document.querySelector(".user-items");g();y();w();S();new b().bindSubmit();l.addEventListener("click",()=>{a.classList.contains("active")||(a.classList.add("active"),l.classList.add("active"),setTimeout(()=>{E()},0))});function E(){document.querySelector("body").addEventListener("click",function e(t){const i=t.target;a===i.closest(".user-items")||(a.classList.remove("active"),l.classList.remove("active"),document.querySelector("body").removeEventListener("click",e))})}const d=document.querySelector(".logout-form a");d.addEventListener("click",e=>{e.preventDefault(),d.closest("form").submit()});const I=document.querySelectorAll(".navigation .item .arrow-wrapper");I.forEach(e=>{e.addEventListener("click",t=>{t.preventDefault();const i=e.querySelector(".arrow"),n=i.closest(".item-wrapper");n.classList.toggle("active"),n.classList.contains("active")?(i.classList.remove("down"),i.classList.add("up")):(i.classList.remove("up"),i.classList.add("down"))})});
